import{u as w,p as v,t as b,_ as k}from"./BT41KN5o.js";import{l as C}from"./JmNKrZVq.js";import{t as F}from"./CdOW-PiK.js";import{u as $}from"./BYnjSPjX.js";import{r as u,c as n,p as o,y as i,q as c,F as E,n as L,a as e,o as t,t as _,b as N}from"./DUBKg3g8.js";const B={key:0,class:"p-2 rounded-md min-w-[240px] sm:min-w-[400px] max-w-xl mx-auto bg-gray-100"},T={key:1,class:"text-red-600 text-center"},j={key:2,class:"flex flex-col gap-1"},A={class:"w-full flex items-center justify-between bg-gray-800 py-1 px-3 text-xs sm:text-sm md:text-base rounded-lg"},S={class:"w-full flex flex-col sm:flex-row items-start sm:items-center gap-4 ml-1 sm:ml-2"},V={class:""},D={class:"text-gray-100 max-w-[260px] overflow-hidden overflow-ellipsis line-clamp-1"},q={class:"text-gray-100"},z={class:"flex items-start gap-4 sm:gap-2"},H=["onClick"],I={class:"flex justify-start mt-2 group"},Q={__name:"news",setup(M){let r=u(null);const d=async()=>{const{data:a}=await w("https://resume.bargh-saman.ir/api/news","$dF6Tbojm2a");r.value=a.value||[]};d();let m=u("list");const g=async a=>{m.value=a,a=="list"&&await d()},f=a=>{};let p=u(!1);const x=async a=>{try{p.value=!0;const s=await $fetch(`https://resume.bargh-saman.ir/api/NewsManagement/news/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${$("userToken").value}`}});await d()}catch(s){console.error("Error deleting product:",s)}finally{p.value=!1}};return(a,s)=>{const y=k;return t(),n("section",null,[o(m)=="list"?(t(),n("div",B,[o(r)?c("",!0):(t(),i(C,{key:0})),o(r)&&o(r).length==0?(t(),n("p",T,"خبری موجود نیست")):(t(),n("ul",j,[o(r)?(t(!0),n(E,{key:0},L(o(r),l=>(t(),n("li",A,[e("div",S,[e("div",V,[e("span",D,_(l.title),1)]),e("div",null,[s[2]||(s[2]=e("span",{class:"text-gray-300 ml-1"},"ای دی:",-1)),e("span",q,_(l.id),1)])]),e("div",z,[e("button",{onClick:s[0]||(s[0]=h=>f()),class:"p-1 bg-gray-300 bg-opacity-0 hover:bg-opacity-50"},[N(v)]),e("button",{onClick:h=>x(l.id),class:"bg-gray-300 bg-opacity-0 hover:bg-opacity-40 transition-all duration-300 text-red-600"},[o(p)?(t(),i(F,{key:0})):(t(),i(b,{key:1}))],8,H)])]))),256)):c("",!0)])),e("div",I,[e("button",{onClick:s[1]||(s[1]=l=>g("add")),class:"p-1 px-4 shortHoverTransition lg:group-hover:bg-orange-600 rounded-full"},"+ افزودن")])])):c("",!0),o(m)=="add"?(t(),i(y,{key:1,panelName:"news",onChangeForm:g})):c("",!0)])}}};export{Q as default};
