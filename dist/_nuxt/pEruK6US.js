import{u as b,p as w,t as k,_ as C}from"./BT41KN5o.js";import{l as E}from"./JmNKrZVq.js";import{t as $}from"./CdOW-PiK.js";import{u as h}from"./BYnjSPjX.js";import{r as p,c as n,p as o,y as i,q as c,F as T,n as B,a as e,o as t,t as x,b as F}from"./DUBKg3g8.js";const L={key:0,class:"p-2 rounded-md min-w-[240px] sm:min-w-[400px] max-w-xl mx-auto bg-gray-100"},N={key:1,class:"text-red-600 text-center"},A={key:2,class:"flex flex-col gap-1"},S={class:"w-full flex items-center justify-between bg-gray-800 py-1 px-3 text-xs sm:text-sm md:text-base rounded-lg"},V={class:"w-full flex flex-col sm:flex-row items-start sm:items-center gap-4 ml-1 sm:ml-2"},j={class:""},z={class:"text-gray-100 max-w-[260px] overflow-hidden overflow-ellipsis line-clamp-1"},D={class:"text-gray-100"},M={class:"flex items-start gap-4 sm:gap-2"},P=["onClick"],q={class:"flex justify-start mt-2 group"},O={__name:"members",setup(G){let r=p(null);const d=async()=>{const{data:a}=await b("https://resume.bargh-saman.ir/api/RoleManagement/roles",{method:"GET",headers:{Authorization:`Bearer ${h("userToken").value}`}},"$Edcsxp1PTy");r.value=a.value||[]};d();let m=p("list");const g=async a=>{m.value=a,a=="list"&&await d()},_=a=>{};let u=p(!1);const f=async a=>{try{u.value=!0;const s=await $fetch(`https://resume.bargh-saman.ir/api/NewsManagement/news/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${h("userToken").value}`}});await d()}catch(s){console.error("Error deleting product:",s)}finally{u.value=!1}};return(a,s)=>{const y=C;return t(),n("section",null,[o(m)=="list"?(t(),n("div",L,[o(r)?c("",!0):(t(),i(E,{key:0})),o(r)&&o(r).length==0?(t(),n("p",N,"عضوی وجود ندارد")):(t(),n("ul",A,[o(r)?(t(!0),n(T,{key:0},B(o(r),l=>(t(),n("li",S,[e("div",V,[e("div",j,[e("span",z,x(l.name),1)]),e("div",null,[s[2]||(s[2]=e("span",{class:"text-gray-300 ml-1"},"ای دی:",-1)),e("span",D,x(l.id),1)])]),e("div",M,[e("button",{onClick:s[0]||(s[0]=v=>_()),class:"p-1 bg-gray-300 bg-opacity-0 hover:bg-opacity-50"},[F(w)]),e("button",{onClick:v=>f(l.id),class:"bg-gray-300 bg-opacity-0 hover:bg-opacity-40 transition-all duration-300 text-red-600"},[o(u)?(t(),i($,{key:0})):(t(),i(k,{key:1}))],8,P)])]))),256)):c("",!0)])),e("div",q,[e("button",{onClick:s[1]||(s[1]=l=>g("add")),class:"p-1 px-4 shortHoverTransition lg:group-hover:bg-orange-600 rounded-full"},"+ افزودن")])])):c("",!0),o(m)=="add"?(t(),i(y,{key:1,panelName:"members",onChangeForm:g})):c("",!0)])}}};export{O as default};
