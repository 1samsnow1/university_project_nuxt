import{u as v,p as b,t as k,_ as w}from"./BT41KN5o.js";import{l as C}from"./JmNKrZVq.js";import{t as E}from"./CdOW-PiK.js";import{u as $}from"./BYnjSPjX.js";import{r as m,c as n,p as o,y as i,q as c,F,n as L,a as t,o as e,t as _,b as B}from"./DUBKg3g8.js";const N={key:0,class:"p-2 rounded-md min-w-[240px] sm:min-w-[400px] max-w-xl mx-auto bg-gray-100"},S={key:1,class:"text-red-600 text-center"},T={key:2,class:"flex flex-col gap-1"},A={class:"w-full flex items-center justify-between bg-gray-800 py-1 px-3 text-xs sm:text-sm md:text-base rounded-lg"},D={class:"w-full flex flex-col sm:flex-row items-start sm:items-center gap-4 ml-1 sm:ml-2"},V={class:""},j={class:"text-gray-100 max-w-[260px] overflow-hidden overflow-ellipsis line-clamp-1"},H={class:"text-gray-100"},P={class:"flex items-start gap-4 sm:gap-2"},q=["onClick"],z={class:"flex justify-start mt-2 group"},J={__name:"products",setup(I){let r=m(null);const d=async()=>{const{data:a}=await v("https://resume.bargh-saman.ir/api/products","$HQRhECKDSS");r.value=a.value||[]};d();let u=m("list");const g=async a=>{u.value=a,a=="list"&&await d()},f=a=>{};let p=m(!1);const x=async a=>{try{p.value=!0;const s=await $fetch(`https://resume.bargh-saman.ir/api/ProductManagement/product/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${$("userToken").value}`}});await d()}catch(s){console.error("Error deleting product:",s)}finally{p.value=!1}};return(a,s)=>{const h=w;return e(),n("section",null,[o(u)=="list"?(e(),n("div",N,[o(r)?c("",!0):(e(),i(C,{key:0})),o(r)&&o(r).length==0?(e(),n("p",S,"پروژه ای موجود نیست")):(e(),n("ul",T,[o(r)?(e(!0),n(F,{key:0},L(o(r),l=>(e(),n("li",A,[t("div",D,[t("div",V,[t("span",j,_(l.name),1)]),t("div",null,[s[2]||(s[2]=t("span",{class:"text-gray-300 ml-1"},"ای دی:",-1)),t("span",H,_(l.id),1)])]),t("div",P,[t("button",{onClick:s[0]||(s[0]=y=>f()),class:"p-1 bg-gray-300 bg-opacity-0 hover:bg-opacity-50"},[B(b)]),t("button",{onClick:y=>x(l.id),class:"bg-gray-300 bg-opacity-0 hover:bg-opacity-40 transition-all duration-300 text-red-600"},[o(p)?(e(),i(E,{key:0})):(e(),i(k,{key:1}))],8,q)])]))),256)):c("",!0)])),t("div",z,[t("button",{onClick:s[1]||(s[1]=l=>g("add")),class:"p-1 px-4 shortHoverTransition lg:group-hover:bg-orange-600 rounded-full"},"+ افزودن")])])):c("",!0),o(u)=="add"?(e(),i(h,{key:1,panelName:"products",onChangeForm:g})):c("",!0)])}}};export{J as default};
